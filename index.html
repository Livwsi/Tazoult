<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª Ù„Ù„ØªÙ†Ù…ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</title>
  <meta name="description" content="Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª - ØªÙ†Ù…ÙŠØ©ØŒ ØªØ¹Ø§ÙˆÙ†ØŒ Ø¨ÙŠØ¦Ø©. Ù…Ø´Ø§Ø±ÙŠØ¹ ØªÙ†Ù…ÙˆÙŠØ© ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ù„ØªØ¨Ø±Ø¹ ÙˆØ§Ù„ØªÙˆØ§ØµÙ„.">
  <style>
    /* --- (kept and slightly simplified styles from original file) --- */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:Arial,Helvetica,sans-serif;line-height:1.5;color:#222;background:linear-gradient(135deg,#e8f5e8 0%,#f0f8ff 100%)}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    header{background:linear-gradient(135deg,#2e8b57 0%,#20b2aa 100%);position:fixed;top:0;left:0;right:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,.12)}
    nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:12px}
    .logo{display:flex;align-items:center;gap:10px;color:#fff;text-decoration:none}
    .logo-image{width:48px;height:48px;border-radius:50%;background:#fff;padding:4px;display:flex;align-items:center;justify-content:center}
    .logo-image img{width:100%;height:100%;object-fit:cover;border-radius:50%}
    .logo-text{font-weight:700;font-size:1.1rem}
    .nav-menu{display:flex;gap:14px;list-style:none}
    .nav-menu a{color:#fff;text-decoration:none;font-size:0.93rem}
    .language-switcher{display:flex;gap:6px}
    .lang-btn{background:rgba(255,255,255,.12);color:#fff;border:0;padding:6px 8px;border-radius:4px;cursor:pointer}
    .lang-btn.active{background:rgba(255,255,255,.25)}
    .mobile-menu-btn{display:none;background:none;border:0;color:#fff;font-size:1.4rem;cursor:pointer}
    main{margin-top:82px}
    .hero{padding:48px 0;color:#fff;text-align:center;position:relative}
    .hero .hero-inner{max-width:980px;margin:0 auto}
    .cta-button{background:linear-gradient(45deg,#90ee90,#20b2aa);color:#fff;padding:10px 20px;border-radius:999px;border:0;cursor:pointer;text-decoration:none}
    .section{padding:36px 0}
    .section-title{font-size:1.9rem;color:#2e8b57;text-align:center;margin-bottom:16px}

    /* Cards and grid */
    .content-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
    .content-card{background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.06)}
    .card-image{height:160px;background:linear-gradient(45deg,#90ee90,#20b2aa);display:flex;align-items:center;justify-content:center}
    .card-image img{width:100%;height:100%;object-fit:cover}
    .card-content{padding:14px}
    .expand-btn{background:#20b2aa;color:#fff;border:0;padding:8px 12px;border-radius:16px;cursor:pointer}

    /* Project expandable */
    .project-expandable{overflow:hidden;transition:max-height .45s ease}
    .project-expandable.collapsed{max-height:0}
    .project-expandable.expanded{max-height:1000px}

    /* Carousel */
    .image-carousel{position:relative;border-radius:10px;overflow:hidden;min-height:200px}
    .carousel-container{position:relative;width:100%;height:100%}
    .carousel-slide{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:16px;opacity:0;transition:opacity .6s ease,transform .6s ease;transform:scale(.995)}
    .carousel-slide.active{opacity:1;transform:scale(1)}
    .carousel-slide img{width:100%;height:100%;object-fit:cover}
    .carousel-navigation{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px}
    .carousel-dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,.45);cursor:pointer}
    .carousel-dot.active{background:#fff}
    .carousel-arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.35);color:#fff;border:0;padding:8px;border-radius:6px;cursor:pointer}
    .carousel-arrow.prev{left:10px}
    .carousel-arrow.next{right:10px}

    /* Bank / copy */
    .bank-info-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
    .bank-card{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:18px;border-radius:12px}
    .bank-detail{background:#fff;padding:10px;border-radius:8px;margin-top:8px;display:flex;align-items:center;justify-content:space-between}
    .copy-btn{background:#90ee90;color:#2e8b57;border:0;padding:6px 10px;border-radius:10px;cursor:pointer}

    /* Footer */
    footer{background:#2e8b57;color:#fff;padding:28px 0;margin-top:18px}

    /* Responsive */
    @media(max-width:768px){.nav-menu{display:none;position:absolute;left:0;right:0;top:100%;background:linear-gradient(135deg,#2e8b57,#20b2aa);flex-direction:column;padding:12px}.nav-menu.mobile-open{display:flex}.mobile-menu-btn{display:block}.logo-text{font-size:1rem}}
    @media(max-width:480px){.hero{padding:28px 0}.card-image{height:130px}}

    /* Accessibility focus */
    a:focus,button:focus{outline:3px solid rgba(32,178,170,.18);outline-offset:3px}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav aria-label="Main navigation">
        <a class="logo" href="#home">
          <div class="logo-image"><img src="Images/Logo-removebg-preview.png" alt="Ø´Ø¹Ø§Ø± Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª"></div>
          <div class="logo-text">Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª</div>
        </a>
        <button class="mobile-menu-btn" aria-expanded="false" aria-controls="navMenu" onclick="toggleMobileMenu(this)">â˜°</button>
        <ul class="nav-menu" id="navMenu">
          <li><a href="#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
          <li><a href="#about">Ø¹Ù† Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©</a></li>
          <li><a href="#location">Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></li>
          <li><a href="#projects">Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</a></li>
          <li><a href="#board">Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a></li>
          <li><a href="#donate">â¤ï¸ ØªØ¨Ø±Ø¹</a></li>
          <li><a href="#contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
        </ul>
        <div class="language-switcher" role="tablist" aria-label="Language switcher">
          <button class="lang-btn active" role="tab" aria-selected="true" onclick="switchLanguage('ar', this)">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
          <button class="lang-btn" role="tab" aria-selected="false" onclick="switchLanguage('fr', this)">FranÃ§ais</button>
          <button class="lang-btn" role="tab" aria-selected="false" onclick="switchLanguage('en', this)">English</button>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section id="home" class="hero" aria-labelledby="hero-title">
      <div class="container hero-inner">
        <div class="lang-content active" data-lang="ar">
          <div style="display:flex;align-items:center;justify-content:center;gap:14px;flex-wrap:wrap;margin-bottom:12px">
            <div style="width:72px;height:72px;border-radius:50%;background:#fff;padding:6px"><img src="Images/Logo-removebg-preview.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©" style="width:100%;height:100%;border-radius:50%;object-fit:cover"></div>
            <h1 id="hero-title">Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª Ù„Ù„ØªÙ†Ù…ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</h1>
          </div>
          <p>Ù†Ø¹Ù…Ù„ Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªØ¯Ø§Ù…Ø© ÙˆØªØ­Ø³ÙŠÙ† Ø¸Ø±ÙˆÙ Ø§Ù„Ù…Ø¹ÙŠØ´Ø© ÙÙŠ Ù…Ù†Ø·Ù‚Ø© ØªØ§Ø²ÙˆÙ„Øª</p>
          <p style="margin-top:12px"><a class="cta-button" href="#about">Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯</a></p>
        </div>

        <!-- simple hero image carousel (uses same carousel JS below) -->
        <div style="margin-top:18px">
          <div class="image-carousel" aria-roledescription="carousel">
            <div class="carousel-container" data-carousel>
              <div class="carousel-slide active" data-index="1"><img src="Images/Old/image/Village/1.jpg" alt="Ù‚Ø±ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª 1"></div>
              <div class="carousel-slide" data-index="2"><img src="Images/Old/image/Village/2.jpg" alt="Ù‚Ø±ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª 2"></div>
              <div class="carousel-slide" data-index="3"><img src="Images/Old/image/Village/3.jpg" alt="Ù‚Ø±ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª 3"></div>
              <div class="carousel-slide" data-index="4"><img src="Images/Old/image/Village/4.jpg" alt="Ù‚Ø±ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª 4"></div>
              <div class="carousel-slide" data-index="5"><img src="Images/Old/image/Village/5.jpg" alt="Ù‚Ø±ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª 5"></div>
            </div>
            <button class="carousel-arrow prev" aria-label="Previous slide" onclick="changeSlide(-1)">â€¹</button>
            <button class="carousel-arrow next" aria-label="Next slide" onclick="changeSlide(1)">â€º</button>
            <div class="carousel-navigation" role="tablist" aria-label="Carousel Navigation">
              <span class="carousel-dot active" role="tab" tabindex="0" onclick="currentSlide(1)"></span>
              <span class="carousel-dot" role="tab" tabindex="0" onclick="currentSlide(2)"></span>
              <span class="carousel-dot" role="tab" tabindex="0" onclick="currentSlide(3)"></span>
              <span class="carousel-dot" role="tab" tabindex="0" onclick="currentSlide(4)"></span>
              <span class="carousel-dot" role="tab" tabindex="0" onclick="currentSlide(5)"></span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About (kept multilingual blocks largely as-is) -->
    <section id="about" class="section">
      <div class="container">
        <div class="lang-content active" data-lang="ar">
          <h2 class="section-title">Ø¹Ù† Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©</h2>
          <div class="about-content" style="display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:center">
            <div class="about-text" style="background:#fff;padding:16px;border-radius:10px">
              <h3>Ø£Ù‡Ø¯Ø§ÙÙ†Ø§</h3>
              <p>Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª ...</p>
            </div>
            <div>
              <!-- small carousel re-used above or static image -->
              <img src="Images/Old/image/Village/1.jpg" alt="Ø£Ù†Ø´Ø·Ø©" style="width:100%;border-radius:10px;object-fit:cover;max-height:260px">
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Location (embed) -->
    <section id="location" class="section" style="background:#fff">
      <div class="container">
        <div class="lang-content active" data-lang="ar">
          <h2 class="section-title">Ù…ÙˆÙ‚Ø¹Ù†Ø§</h2>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:start">
            <div class="location-info" style="background:#fff;padding:14px;border-radius:10px">
              <h3>Ø¯ÙˆØ§Ø± ØªØ§Ø²ÙˆÙ„Øª</h3>
              <p><strong>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„:</strong> Ø¯ÙˆØ§Ø± ØªØ§Ø²ÙˆÙ„Øª ...</p>
            </div>
            <div class="map-container" style="background:#fff;padding:8px;border-radius:10px">
              <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d17691.687973501266!2d-7.777784!3d30.784318!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xdba827111e28f4b%3A0x8e112529c0bc9609!2sTazoulte%2C%20Morocco!5e1!3m2!1sen!2snl!4v1753787829734!5m2!1sen!2snl" width="100%" height="360" style="border:0;border-radius:8px" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects: current + completed (kept structure) -->
    <section id="projects" class="section">
      <div class="container">
        <div class="lang-content active" data-lang="ar">
          <h2 class="section-title">Ù…Ø´Ø§Ø±ÙŠØ¹Ù†Ø§</h2>
          <div class="projects-group">
            <h3>ğŸš€ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
            <div class="content-grid">
              <!-- School project card -->
              <article class="content-card" aria-labelledby="school-title">
                <div class="card-image"><img src="Images/Old/image/Village/2.jpg" alt="Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©"></div>
                <div class="card-content">
                  <h3 id="school-title">Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</h3>
                  <p>ØªØ·ÙˆÙŠØ± ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ...</p>
                  <button class="expand-btn" onclick="toggleProject('school-project', this)">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ØªÙØ§ØµÙŠÙ„ â†“</button>
                  <div id="school-project" class="project-expandable collapsed">
                    <div class="project-details" style="padding:12px;background:#f8f9fa">
                      <p><strong>ğŸ’° Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©:</strong> 200,000 Ø¯Ø±Ù‡Ù…</p>
                      <div class="project-gallery" style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:8px">
                        <img src="Images/Old/image/art/p1.jpg" alt="Ø¨Ù†Ø§Ø¡" style="width:100%;height:90px;object-fit:cover;border-radius:6px">
                        <img src="Images/Old/image/art/p2.jpg" alt="ØªØ¬Ù‡ÙŠØ²" style="width:100%;height:90px;object-fit:cover;border-radius:6px">
                        <img src="Images/Old/image/kids/k6.jpg" alt="Ø£Ø·ÙØ§Ù„" style="width:100%;height:90px;object-fit:cover;border-radius:6px">
                      </div>
                    </div>
                  </div>
                </div>
              </article>
            </div>

            <!-- Completed projects (one example kept) -->
            <h3 style="margin-top:18px">âœ… Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ù†Ø¬Ø²Ø©</h3>
            <div class="content-grid" style="margin-top:8px">
              <div class="content-card">
                <div class="card-image"><img src="Images/Old/image/Football Field/f1.jpg" alt="Ù…Ù„Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…"></div>
                <div class="card-content">
                  <h3>Ù…Ù„Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…</h3>
                  <p>Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø¹Ø¨ Ù…Ø¬Ù‡Ø² ...</p>
                  <button class="expand-btn" onclick="toggleProject('football-field-project', this)">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ØªÙØ§ØµÙŠÙ„ â†“</button>
                  <div id="football-field-project" class="project-expandable collapsed">
                    <div class="project-details"><p><strong>ğŸ’° Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©:</strong> 85,000 Ø¯Ø±Ù‡Ù…</p></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Donations (bank info with copy) -->
    <section id="donate" class="section">
      <div class="container">
        <h2 class="section-title">ØªØ¨Ø±Ø¹</h2>
        <div class="bank-info-container">
          <div class="bank-card">
            <h4>ğŸ¦ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨Ù†ÙƒÙŠ</h4>
            <div class="bank-detail"><div>Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨</div><div>Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª</div></div>
            <div class="bank-detail"><div>Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨</div><div style="display:flex;align-items:center;gap:8px"><span id="bank-number">123456789012345</span><button class="copy-btn" onclick="copyToClipboard(this,'123456789012345')">Ù†Ø³Ø®</button></div></div>
          </div>
          <div class="bank-card">
            <h4>ğŸ“± Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ</h4>
            <div class="bank-detail"><div>Orange Money</div><div style="display:flex;align-items:center;gap:8px"><span id="om-number">+212 600 000 100</span><button class="copy-btn" onclick="copyToClipboard(this,'+212 600 000 100')">Ù†Ø³Ø®</button></div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact (Google Form embed) -->
    <section id="contact" class="section">
      <div class="container">
        <h2 class="section-title">Ø§ØªØµÙ„ Ø¨Ù†Ø§</h2>
        <div class="form-container">
          <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSeIlT9QAfE31wi7gTI-br8NW2hbRPAWMdJkXGTfPcFnfZM8kg/viewform?embedded=true" width="100%" height="700" style="border:0;border-radius:8px" loading="lazy"></iframe>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div class="container">
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:18px;margin-bottom:12px">
        <div class="lang-content active" data-lang="ar"><h4>Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª</h4><p>Ø¯ÙˆØ§Ø± ØªØ§Ø²ÙˆÙ„ØªØŒ ØªØ§Ø±ÙˆØ¯Ø§Ù†ØªØŒ Ø§Ù„Ù…ØºØ±Ø¨</p></div>
        <div><h4>Ù…Ø±Ø§Ø¬Ø¹</h4><p><a href="https://www.assohelp.org/asso-419-association-tazoult-pour-le-developement-et-la-cooperation-et-d-environement" style="color:#fff">AssoHelp.org</a></p></div>
      </div>
      <div style="text-align:center;color:#fff">&copy; 2025 Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª Ù„Ù„ØªÙ†Ù…ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</div>
    </div>
  </footer>

  <script>
    // ---------------------- Utility / ARIA helpers ----------------------
    function setAriaExpanded(btn, expanded){
      try{btn.setAttribute('aria-expanded', expanded ? 'true' : 'false')}catch(e){}
    }

    // ---------------------- Mobile menu ----------------------
    function toggleMobileMenu(btn){
      const navMenu = document.getElementById('navMenu');
      const open = navMenu.classList.toggle('mobile-open');
      btn.innerHTML = open ? 'âœ•' : 'â˜°';
      setAriaExpanded(btn, open);
    }

    // Close mobile menu when clicking a nav link (keyboard accessible)
    document.addEventListener('click', (e)=>{
      const navMenu = document.getElementById('navMenu');
      const btn = document.querySelector('.mobile-menu-btn');
      if(!document.querySelector('header').contains(e.target) && navMenu.classList.contains('mobile-open')){
        navMenu.classList.remove('mobile-open'); btn && (btn.innerHTML='â˜°'); setAriaExpanded(btn,false);
      }
    });
    document.querySelectorAll('.nav-menu a').forEach(a=>a.addEventListener('click', ()=>{document.getElementById('navMenu').classList.remove('mobile-open');const b=document.querySelector('.mobile-menu-btn');if(b){b.innerHTML='â˜°';setAriaExpanded(b,false);} }));

    // ---------------------- Language switching ----------------------
    function switchLanguage(lang, btn){
      // update active button state
      document.querySelectorAll('.lang-btn').forEach(b=>{b.classList.remove('active');b.setAttribute('aria-selected','false')});
      btn.classList.add('active');btn.setAttribute('aria-selected','true');

      // show/hide language blocks
      document.querySelectorAll('.lang-content').forEach(c=>c.classList.remove('active'));
      document.querySelectorAll(`[data-lang="${lang}"]`).forEach(c=>c.classList.add('active'));

      // direction and html lang
      if(lang==='ar'){document.documentElement.setAttribute('dir','rtl');document.documentElement.setAttribute('lang','ar')}else{document.documentElement.setAttribute('dir','ltr');document.documentElement.setAttribute('lang',lang)}

      // nav text translations
      const navTexts={ar:['Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©','Ø¹Ù† Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©','Ø§Ù„Ù…ÙˆÙ‚Ø¹','Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹','Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©','â¤ï¸ ØªØ¨Ø±Ø¹','Ø§ØªØµÙ„ Ø¨Ù†Ø§'],fr:['Accueil','Ã€ Propos','Localisation','Projets','Conseil','â¤ï¸ Faire un Don','Contact'],en:['Home','About','Location','Projects','Board','â¤ï¸ Donate','Contact']};
      document.querySelectorAll('.nav-menu a').forEach((link,i)=>{if(navTexts[lang] && navTexts[lang][i]) link.textContent = navTexts[lang][i]});
      const logoTexts={ar:'Ø¬Ù…Ø¹ÙŠØ© ØªØ§Ø²ÙˆÙ„Øª',fr:'Association Tazoult',en:'Tazoult Association'};
      document.querySelectorAll('.logo-text').forEach(l=>l.textContent = logoTexts[lang] || logoTexts['ar']);
    }

    // ---------------------- Carousel (accessible + touch) ----------------------
    (function(){
      const container = document.querySelector('[data-carousel]');
      if(!container) return;
      const slides = Array.from(container.querySelectorAll('.carousel-slide'));
      const dots = Array.from(document.querySelectorAll('.carousel-dot'));
      let index = slides.findIndex(s => s.classList.contains('active')) || 0;
      let autoplay = true;
      let autoplayId = null;

      function show(i){
        slides.forEach((s,si)=>{s.classList.toggle('active', si===i)});
        dots.forEach((d,di)=>{d.classList.toggle('active', di===i)});
        index = i;
      }

      function next(){ show((index+1) % slides.length); }
      function prev(){ show((index-1+slides.length) % slides.length); }

      // wire global functions used in markup
      window.changeSlide = function(n){ if(n>0) next(); else prev(); resetAutoplay(); };
      window.currentSlide = function(n){ show(n-1); resetAutoplay(); };

      // autoplay
      function startAutoplay(){ if(autoplay) autoplayId = setInterval(next,5000) }
      function stopAutoplay(){ clearInterval(autoplayId); autoplayId = null }
      function resetAutoplay(){ stopAutoplay(); startAutoplay(); }
      container.addEventListener('mouseenter', stopAutoplay); container.addEventListener('mouseleave', startAutoplay);

      // touch
      let startX = 0; container.addEventListener('touchstart', e=> startX = e.touches[0].clientX, {passive:true});
      container.addEventListener('touchend', e=>{ const endX = e.changedTouches[0].clientX; const delta = endX - startX; if(Math.abs(delta)>40){ if(delta<0) next(); else prev(); resetAutoplay(); } }, {passive:true});

      // keyboard for dots
      dots.forEach((d,idx)=>{ d.addEventListener('keydown', (ev)=>{ if(ev.key==='Enter'||ev.key===' ') { ev.preventDefault(); show(idx); resetAutoplay(); } }); d.addEventListener('click', ()=>{ show(idx); resetAutoplay(); }); });

      startAutoplay();
    })();

    // ---------------------- Project expand/collapse ----------------------
    function toggleProject(projectId, btn){
      const project = document.getElementById(projectId);
      if(!project) return;
      const open = project.classList.toggle('expanded');
      project.classList.toggle('collapsed', !open);
      // localize button text based on current lang
      const lang = document.documentElement.getAttribute('lang') || 'ar';
      const texts = {ar:{open:'Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ØªÙØ§ØµÙŠÙ„ â†“',close:'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙØ§ØµÙŠÙ„ â†‘'},fr:{open:'Cliquez pour dÃ©tails â†“',close:'Masquer dÃ©tails â†‘'},en:{open:'Click for details â†“',close:'Hide details â†‘'}};
      btn.textContent = open ? texts[lang].close : texts[lang].open;
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    }

    // ---------------------- Copy to clipboard with fallback & feedback ----------------------
    function copyToClipboard(btn, text){
      if(navigator.clipboard && window.isSecureContext){
        navigator.clipboard.writeText(text).then(()=> showCopyFeedback(btn)).catch(()=> fallbackCopy(btn,text));
      } else fallbackCopy(btn,text);
    }
    function fallbackCopy(btn,text){
      const ta = document.createElement('textarea'); ta.value=text; ta.style.position='fixed'; ta.style.left='-99999px'; document.body.appendChild(ta); ta.select();
      try{ document.execCommand('copy'); showCopyFeedback(btn); }catch(e){ alert('Ù†Ø³Ø® Ø§Ù„Ù†Øµ ÙØ´Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠØ§Ù‹.'); }
      document.body.removeChild(ta);
    }
    function showCopyFeedback(btn){
      const orig = btn.textContent; btn.textContent = (document.documentElement.getAttribute('lang')==='ar') ? 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!' : 'Copied!';
      btn.disabled = true; setTimeout(()=>{btn.textContent = orig; btn.disabled=false},1800);
    }

    // ---------------------- Smooth scroll with header offset ----------------------
    document.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click', function(e){ const href=this.getAttribute('href'); if(!href || href==="#") return; const target=document.querySelector(href); if(target){ e.preventDefault(); const headerH = document.querySelector('header').offsetHeight; const top = target.offsetTop - headerH - 8; window.scrollTo({top,behavior:'smooth'}); } }));

    // ---------------------- Small accessibility / UI tweaks on load ----------------------
    window.addEventListener('load', ()=>{
      // ensure collapsed elements have proper class
      document.querySelectorAll('.project-expandable').forEach(p=>p.classList.add('collapsed'));
      // set default html lang attribute if missing
      if(!document.documentElement.getAttribute('lang')) document.documentElement.setAttribute('lang','ar');
    });

  </script>
</body>
</html>
